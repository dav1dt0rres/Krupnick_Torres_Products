
<h4>Please Enter the details of the Question</h4>
<form id="form" action="/AddQuestions/ScrollEditQuestions"  method="post">
    <input type="hidden" id="Passage_Holder" name="Passage_Holder" value="{{Passage_Holder}}"  />
    <input type="hidden" id="Test_Holder" name="Test_Holder" value="{{Test_Holder}}"  />
    <input type="hidden" id="Test_Type_Holder" name="Test_Type_Holder" value="{{Test_Type_Holder}}"  />
    <input type="hidden" id="Database_Index" name="Database_Index" value="{{Database_Index}}"  />
    <input type="hidden" id="Right_Answer_Holder" name="Right_Answer_Holder" value="{{Right_Answer_Holder}}"  />
    <input type="hidden" id="normal_Question_Index" name="normal_Question_Index" value="{{normal_Question_Index}}"  />
    <div class="column" id="firstColumn">

        <button id="Presentation_Highlight_Button" name="Presentation_Highlight_Button" type="button" onclick="Highlight_Presentation()">Presentation Highlight</button>
            <div class="col-3">
                <input id="QuestionText" name="QuestionText" class="effect-11" type="text" placeholder="Question Text" rows="5" value="{{QuestionText}}" >

                <span class="focus-border">
            	<i></i>
            </span>
            </div>

            <div class="col-3">
                <input id="Question_Number" name="Question_Number" class="effect-9"  type="text" placeholder="Question Number" value="{{Question_Number}}" >

                <span class="focus-border">
            	<i></i>
            </span>
            </div>

    </div>

    <div class="column" name="MiddleColumn" id="MiddleColumn">
        <div class="col-3">
            <input id="AnswerA" name="AnswerA" class="effect-9" type="text" placeholder="Type Choice A" value="{{AnswerA}}">
            <span class="focus-border">
                <i></i>
              </span>
        </div>

        <div class="col-3">
            <input id="AnswerB" name="AnswerB" class="effect-9" type="text" placeholder="Type Choice B" value="{{AnswerB}}">
            <span class="focus-border">
                <i></i>
              </span>
        </div>

        <div class="col-3">
            <input id="AnswerC" name="AnswerC" class="effect-9" type="text" placeholder="Type Choice C" value="{{AnswerC}}">
            <span class="focus-border">
                <i></i>
              </span>
        </div>

        <div class="col-3">
            <input id="AnswerD" name="AnswerD" class="effect-9" type="text" placeholder="Type Choice D" value="{{AnswerD}}">
            <span class="focus-border">
                <i></i>
              </span>
        </div>

        <div class="col-3">
            <input id="AnswerE" name="AnswerE" class="effect-9" type="text" placeholder="Type Choice E" value="{{AnswerE}}">
            <span class="focus-border">
                <i></i>
              </span>
        </div>




        <label id="Label_First_Hint" for="First_Hint">
            First Hint
            <input type ="hidden" id="First_Hint" name="First_Hint" value="{{First_Hint}}"  />

        </label>
        <label id="Label_Presentation" for="First_Presentation">
            Presentation Text
            <input type ="hidden" id="Presentation" name="Presentation" value="{{Presentation}}"  />

        </label>



    </div>

    <div class="column" name="lastColumn" id="lastColumn">
        <div class="col-3">
        <input id="Tag" name ="Tag" class="effect-9" type="text" placeholder="Type in Tag" value="{{Tag}}">
        <span class="focus-border">
                <i></i>
              </span>
        </div>

        <select id="RightAnswer"  name="RightAnswer" value="{{RightAnswer}}" >
            <option value="0">Select Right Answer</option>
            <option value="A">A</option>
            <option value="B">B</option>
            <option value="C">C</option>
            <option value="D">D</option>
            <option value="E">E</option>

        </select>

        <select id="Test"  name="Test" value="{{Test}}" >
            <option value="0">Select Test</option>
            <option value="B04">B04</option>
            <option value="A09">A09</option>
            <option value="A10">A10</option>
            <option value="74C">74C</option>
            <option value="74G">74G</option>
            <option value="73E">73E</option>
            <option value="71H">71H</option>
            <option value="70G">70G</option>
            <option value="71E">71E</option>
            <option value="72E">72E</option>
            <option value="Z15">Z15</option>
            <option value="71G">71G</option>
        </select>




        <select id="Test_Type"  name="Test_Type" value="{{Test_Type}}" >
            <option value="0">Select Test Type</option>
            <option value="ACT-English">ACT-English</option>
            <option value="ACT-Math">ACT-Math</option>
            <option value="ACT-Reading">ACT-Reading</option>
            <option value="ACT-Science">ACT-Science</option>


        </select>
        <button name=Save_Button id="Save_Button" type="submit">Save Question</button>

    </div>


        <label for="Passage">
            Passage
        </label>
            <textarea class="text_area_input" id="Passage" name="Passage" rows="4" cols="5" value="{{Passage}}" >
                </textarea>



    <button  id="Edit_Button" name="Edit_Button" type="submit">Edit a Question</button>
    <button  id="ReadIn_Button" name="ReadIn_Button" type="submit">ReadIn_Button</button>

    <button onclick="goBack()">Go Back</button>

</form>

<script type="text/javascript">
    function Highlight(){
        console.log("Inside hihglight hint")
        var txtArea = document.getElementById("Passage");
        var selectedText;
        if (txtArea.selectionStart != undefined)
        {
            var startPosition = txtArea.selectionStart;
            var endPosition = txtArea.selectionEnd;
            selectedText = txtArea.value.substring(startPosition, endPosition);
        }
        console.log("You selected :" + selectedText);
        document.getElementById("First_Hint").type="input"
        document.getElementById("First_Hint").value=document.getElementById("First_Hint").value+" "+selectedText;
        document.getElementById("Label_First_Hint").style.display = 'block';
    }
    function Highlight_Presentation(){
        console.log("Inside hihglight presentation")
        var txtArea = document.getElementById("Passage");
        var selectedText;
        if (txtArea.selectionStart != undefined)
        {
            var startPosition = txtArea.selectionStart;
            var endPosition = txtArea.selectionEnd;
            selectedText = txtArea.value.substring(startPosition, endPosition);
        }
        console.log("You selected :" + selectedText);
        document.getElementById("Presentation").type="input"
        document.getElementById("Presentation").value=document.getElementById("Presentation").value+" "+selectedText;
        document.getElementById("Label_Presentation").style.display = 'block';
    }

    function loadbuttons(){

        var index=document.getElementById("normal_Question_Index").value
        console.log("loading buttons "+index)

        //console.log("header " +header.value + ' '+header.innerText)
        var buttonGroup=document.getElementById("btn-group")

        buttonGroup.name="button-group"

        if(parseInt(index)<8){
            for (var i=1;i<9;++i){
                new_button = document.createElement('button');
                if(i==parseInt(index)){
                    new_button.className="current_index"
                }
                new_button.innerHTML=i.toString();
                new_button.value=i.toString();
                new_button.onclick=async function(event) {

                    document.getElementById("normal_Question_Index").value=this.value

                    document.getElementById("form").submit()

                }

                buttonGroup.appendChild(new_button)
                console.log("Length of children"+" "+document.getElementById("header").children.length)
                console.log("Length of children"+" "+buttonGroup.children.length)
            }
            return;
        }

        for (var i=4;i>0;--i){
            new_button = document.createElement('button');
            var less= (parseInt(index))-i
            string=less.toString();
            new_button.innerHTML=string;
            new_button.value=string
            new_button.onclick=async function(event) {

                document.getElementById("normal_Question_Index").value=this.value
                console.log('clicked BUTTON_index '+document.getElementById("normal_Question_Index").value);
                document.getElementById("form").submit()

            }

            buttonGroup.appendChild(new_button)

        }
        var center= (parseInt(index))
        var string="button_"+center.toString();
        var new_button = document.createElement('button')
        new_button.innerHTML=string;
        new_button.value=string
        new_button.onclick=async function(event) {

            document.getElementById("normal_Question_Index").value=this.value
            console.log('clicked BUTTON_index '+document.getElementById("normal_Question_Index").value);
            document.getElementById("form").submit()

        }
        buttonGroup.appendChild(new_button)

        for(var i=1;i<4;++i){
            new_button = document.createElement('button');
            var more=(parseInt(index))+i
            string=more.toString();
            new_button.innerHTML=string;
            new_button.value=string
            new_button.onclick=async function(event) {

                document.getElementById("normal_Question_Index").value=this.value
                console.log('clicked BUTTON_index '+document.getElementById("normal_Question_Index").value);
                document.getElementById("form").submit()

            }

            buttonGroup.appendChild(new_button)
        }

        //document.getElementById("header").appendChild(buttonGroup)
        console.log("button chidlren "+document.getElementById("header").children.length)
    }
    window.onload = function () {

        //console.log("setting all holders"+document.getElementById("Right_Answer_Holder").value)
        //console.log("Print First"+" "+document.getElementById("Passage_Holder").value)
        if(document.getElementById("Test_Holder").value.length!=0){
            document.getElementById("Test").value=document.getElementById("Test_Holder").value;
            document.getElementById("Test_Type").value=document.getElementById("Test_Type_Holder").value
            document.getElementById("RightAnswer").value=document.getElementById("Right_Answer_Holder").value
            document.getElementById("Passage").value=document.getElementById("Passage_Holder").value
        }
       // document.getElementById("Test").value=document.getElementById("Test_Holder").value;
      //  document.getElementById("Test_Type").value=document.getElementById("Test_Type_Holder").value
       // document.getElementById("RightAnswer").value=document.getElementById("Right_Answer_Holder").value
      //
        if (document.getElementById("Presentation").value.length==0){

            document.getElementById("Label_Presentation").style.display = 'none';

        }
        else{
            document.getElementById("Presentation").type="input"
        }
        if(document.getElementById("First_Hint").value.length==0){

            document.getElementById("Label_First_Hint").style.display = 'none';

        }
        else{
            document.getElementById("First_Hint").type="input"
        }

        //console.log("Passage being copied"+" "+document.getElementById("Passage_Box").value)
        //console.log("after"+" "+document.getElementById("Passage_Box").value)


    };

</script>



<script>
    function goBack() {
        window.history.back();
    }
</script>
